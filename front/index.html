<!DOCTYPE html>
<html lang="pt-BR">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Tiny LMS</title>
   <style>
      * {
         box-sizing: border-box;
         font-family: monospace;
      }

      body {
         background: black;
         color: white;
         font-size: 1.125rem;
      }

      form,
      pre {
         margin: 0;
         max-width: 600px;
         padding: 1rem;
         margin: 0 auto;
         overflow: auto;
      }

      input,
      button {
         display: block;
         width: 100%;
         padding: 0.75rem;
         margin: 0.5rem 0 1rem 0;
         border-radius: 8px;
         color: white;
         border: 1px solid #222;
      }

      input {
         background: linear-gradient(to bottom, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.025));
      }

      input:focus {
         outline: white;
         border-color: white;
      }

      button {
         background: linear-gradient(to bottom, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
         cursor: pointer;
      }

      button:hover {
         background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
      }
   </style>
</head>

<body>
   <form id="login">
      <label for="email">Email</label>
      <input type="email" name="email" id="email" value="maria@email.com">
      <label for="password">Senha</label>
      <input type="password" name="password" id="password" value="123abc">
      <button type="submit">Entrar</button>
   </form>
   <pre id="result"></pre>
</body>
<script>
   const form = document.getElementById("login");
   const result = document.getElementById("result");

   form.addEventListener('submit', async (event) => {
      event.preventDefault();
      const base = 'http://localhost:3000';
      const data = new FormData(form);
      const response = await fetch(base + '/auth/login', {
         method: 'POST',
         headers: {
            'Content-Type': 'application/json'
         },
         body: JSON.stringify(Object.fromEntries(data))
      });
   });

   async function autenticado() {
      const respose = await fetch('/segura');
      const body = await respose.json();
      result.innerText = JSON.stringify(body, null, 2);
   }

   autenticado();
</script>

</html>